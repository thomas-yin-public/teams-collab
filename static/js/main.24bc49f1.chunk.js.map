{"version":3,"sources":["api/common.js","api/request.js","components/Auth/Login.js","components/Auth/PrivateRoute.js","utilities/betterDate.js","components/Common/UserTile.js","api/delete.js","api/post.js","components/Common/ToolBox.js","components/Groups/MemberBox.js","components/Groups/TaskBox.js","components/Groups/GroupDetail.js","components/Loading/LoadingIcon.js","components/Loading/GroupLoading.js","components/Loading/ResourcePreLoad.js","components/Groups/GroupCreateForm.js","components/Groups/GroupPage.js","components/Chat/ChatDisplay.js","components/Chat/ChatTile.js","components/Chat/ChatPage.js","components/Tasks/TaskPage.js","components/Auth/Logout.js","components/NavigationBar/NavigationBar.js","components/Memo/MemoPage.js","App.js","index.js","api/backendURL.js"],"names":["getUserToken","localStorage","getItem","requestUserLogin","email","password","a","fetch","serverURL","method","headers","body","URLSearchParams","toString","then","res","json","requestUserGroupList","userToken","Authorization","requestUserContactList","requestGroupDetail","groupId","requestGroupMemebrs","requestAllUserBasicInfo","Login","setUserToken","setUserId","history","useHistory","from","useLocation","state","pathname","useState","emailInput","setEmailInput","passwordInput","setPasswordInput","loginErrorMessage","setLoginErrorMessage","className","style","width","onSubmit","e","preventDefault","success","setItem","token","userId","replace","err","catch","fetchLogin","onChange","target","value","type","PrivateRoute","children","to","beDate","date_text","date","Date","y","getUTCFullYear","m","getUTCMonth","d","getUTCDate","h","getUTCHours","min","getUTCMinutes","padStart","betterTime","time_text","UserTile","userInfo","useContext","UserIdContext","ChatIdContext","setExternChatId","externChatId","showCard","setShowCard","iconTileRef","useRef","popupRef","Fragment","ref","onClick","borderRadius","username","toUpperCase","current","position","top","left","bottom","right","height","minWidth","getBoundingClientRect","x","window","innerHeight","_id","contactUser","messages","push","deleteGroupTask","taskId","deleteGroupMember","memberId","postGroupTask","title","deadline","description","postGroupMember","postMessage","receiver","message","createGroup","groupName","groupDescription","postMarkChatAsRead","chatId","contactUserId","backendURL","ToolBox","unqiueId","itemList","customDisplay","boxPosition","setBoxPosition","displayBox","setDisplayBox","offsetLeft","offsetTop","parentNode","id","map","item","action","name","RemoveMemberForm","_memberList","memberList","useParams","getGroupMemberList","GroupUpdateContext","setMemberList","submitResponse","setSubmitResponse","showConfirmBox","setShowConfirmBox","selectedMemberId","setSelectedMemberId","removeMember","useEffect","console","log","msOverflowY","member","index","AddUserForm","userSuggestList","setUserSuggestList","userSuggestFilterList","setUserSuggestFilterList","filterInput","setFilterInput","addMember","innerText","disabled","getUserSuggestion","userHash","user","list","filter","newList","match","RegExp","placeholder","overflowX","overflowY","MemberBox","selectedComponent","setSelectedComponent","RemoveTaskForm","groupTasks","getGroupDetail","selectedTaskId","setSelectedTaskId","removeTask","task","AddTaskForm","titleInput","setTitleInput","deadlineInput","setDeadlineInput","descriptionInput","setDescriptionInput","submitTask","TaskBox","GroupDetail","groupInfo","groupMemberList","createdAt","length","whiteSpace","overflow","textOverflow","display","createdBy","LoadingIcon","circles","document","getElementById","i","circle","animationName","animationDuration","animationDelay","animationIterationCount","createContext","GroupLoading","isLoading","setIsLoading","setGroupInfo","setGroupMemberList","loadingResource","Provider","GroupContext","ChatContext","TaskContext","ForceReload","WebSocketContext","ResourcePreLoad","groupData","setGroupData","chatData","setChatData","taskData","ws","WebSocket","onopen","send","JSON","stringify","onmessage","data","json_data","parse","unsafeMessageUpdate","senderId","newDataList","getTime","getUserContactList","getUserGroupList","hashedContactData","contact","reverse","getData","GroupCreateForm","showForm","forceReload","groupNameInput","setGroupNameInput","groupDescriptionInput","setGroupDescriptionInput","errorMessage","setErrorMessage","GroupPage","groupList","useRouteMatch","url","path","filteredGroupList","setFilteredGroupList","filterGroupInput","setFilterGroupInput","showGroupCreateForm","setShowGroupCreateForm","group","filterGroupList","exact","ChatDisplay","contactUserChatData","messageInput","setMessageInput","tmpMessageHolder","setTmpMessageHolder","messageStyle","box","bg","sendMessage","receiverId","splice","lineHeight","msg","maxWidth","sendAt","ChatTile","setSelectedContactId","showUnread","setShowUnread","lastMessage","unread","fontSize","ChatPage","sortedChatList","setSortedChatList","filteredChatData","setFilteredChatData","selectedContactId","sortedList","Object","keys","sort","xdate","ydate","makeSortedChatList","filteredList","filterContact","contactId","undefined","TaskPage","Logout","removeItem","location","href","pages","icon","link","NavigationBar","setSelectedPageLink","page","split","MemoPage","App","zIndex","ReactDOM","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.24bc49f1.chunk.js","sourcesContent":["export const getUserToken = () => {\r\n  return localStorage.getItem('token')\r\n}","import serverURL from \"../api/backendURL\";\r\nimport { getUserToken } from \"./common\";\r\n\r\nexport const requestUserLogin = async (email, password) => {\r\n  if (!email || !password) return;\r\n\r\n  return await fetch(`${serverURL}/api/user/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: new URLSearchParams({\r\n      email,\r\n      password,\r\n    }).toString(),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const requestUserGroupList = async () => {\r\n  const userToken = getUserToken();\r\n  if (!userToken) return;\r\n\r\n  return await fetch(`${serverURL}/api/user/groups`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const requestUserContactList = async () => {\r\n  const userToken = getUserToken();\r\n  if (!userToken) return;\r\n\r\n  return await fetch(`${serverURL}/api/chat`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const requestGroupDetail = async (groupId) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !groupId) return;\r\n\r\n  return await fetch(`${serverURL}/api/group/${groupId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const requestGroupMemebrs = async (groupId) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !groupId) return;\r\n\r\n  return await fetch(`${serverURL}/api/group/${groupId}/members`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const requestAllUserBasicInfo = async () => {\r\n  const userToken = getUserToken();\r\n  if (!userToken) return;\r\n\r\n  return await fetch(`${serverURL}/api/user/all`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};","import React, { useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { requestUserLogin } from \"../../api/request\";\r\n\r\nfunction Login({ setUserToken, setUserId }) {\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n\r\n  let { from } = location.state || { from: { pathname: \"/groups\" } };\r\n\r\n  const [emailInput, setEmailInput] = useState(\"\");\r\n  const [passwordInput, setPasswordInput] = useState(\"\");\r\n\r\n  const [loginErrorMessage, setLoginErrorMessage] = useState(\"\");\r\n\r\n  const fetchLogin = (e) => {\r\n    e.preventDefault();\r\n    requestUserLogin(emailInput, passwordInput)\r\n      .then((res) => {\r\n        if (res && res.success) {\r\n          localStorage.setItem(\"token\", res.token);\r\n          localStorage.setItem(\"userId\", res.userId);\r\n          setUserToken(res.token);\r\n          setUserId(res.userId);\r\n          history.replace(from);\r\n        } else setLoginErrorMessage(res.err);\r\n      })\r\n      .catch((err) => {\r\n        setLoginErrorMessage(\"Invalid email or password\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-center vh-100\">\r\n      <div className=\"align-self-center row\" style={{ width: \"70vw\" }}>\r\n        <form\r\n          className=\"p-3 border more-rounded col-md d-flex flex-column justify-content-center shadow\"\r\n          onSubmit={(e) => fetchLogin(e)}\r\n        > \r\n          <h4 className=\"text-center\">User Login</h4>\r\n          <label className=\"form-label\">Email</label>\r\n          <input\r\n            className=\"form-control more-rounded\"\r\n            onChange={(e) => setEmailInput(e.target.value)}\r\n          />\r\n          <label className=\"form-label\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control more-rounded\"\r\n            onChange={(e) => setPasswordInput(e.target.value)}\r\n          />\r\n          <button className=\"btn btn-primary more-rounded w-100 my-2\">\r\n            Login\r\n          </button>\r\n          {loginErrorMessage && (\r\n            <div className=\"alert alert-danger text-center text-danger\">\r\n              {loginErrorMessage}\r\n            </div>\r\n          )}\r\n        </form>\r\n        <div className=\"col-md alert-warning border more-rounded p-3 mx-3\">\r\n          Some user accounts for demo purpose:\r\n          <div className=\"border more-rounded p-3 mt-2 bg-white\">\r\n            <div className=\"border-bottom\">Jack</div>\r\n            <div>email: jack@test.com</div>\r\n            <div>password: testjack</div>\r\n          </div>\r\n          <div className=\"border more-rounded p-3 mt-2 bg-white\">\r\n            <div className=\"border-bottom\">James</div>\r\n            <div>email: james@test.com</div>\r\n            <div>password: testjames</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction PrivateRoute({ userToken, children }) {\r\n  return <Route>{!userToken ? <Redirect to=\"/login\" /> : children}</Route>;\r\n}\r\n\r\nexport default PrivateRoute;\r\n","export const beDate = (date_text) => {\r\n  let date = new Date(date_text);\r\n  let y = date.getUTCFullYear();\r\n  let m = date.getUTCMonth() + 1;\r\n  let d = date.getUTCDate();\r\n  let h = date.getUTCHours();\r\n  let min = date.getUTCMinutes();\r\n\r\n  return `${y}-${m.toString().padStart(2, \"0\")}-${d\r\n    .toString()\r\n    .padStart(2, \"0\")} ${h\r\n    .toString()\r\n    .padStart(2, \"0\")}:${min.toString().padStart(2, \"0\")}`;\r\n};\r\n\r\nexport const betterTime = (time_text) => {\r\n  let date = new Date(time_text);\r\n  let h = date.getUTCHours();\r\n  let min = date.getUTCMinutes();\r\n\r\n  return `${h.toString().padStart(2, \"0\")}:${min.toString().padStart(2, \"0\")}`;\r\n};\r\n","import React, { useCallback, useContext, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { ChatIdContext, UserIdContext } from \"../../App\";\r\n\r\nfunction UserTile({ userInfo }) {\r\n  const userId = useContext(UserIdContext);\r\n  const { externChatId, setExternChatId } = useContext(ChatIdContext);\r\n  const [showCard, setShowCard] = useState(false);\r\n\r\n  const iconTileRef = useRef(null);\r\n  const popupRef = useRef(null);\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        className=\"row p-1 w-100 hover-bg pt-cursor\"\r\n        ref={iconTileRef}\r\n        onClick={(e) => {\r\n          setShowCard(true);\r\n        }}\r\n      >\r\n        <div\r\n          className=\"d-flex justify-content-center ms-3 col-1 fw-bold bg-white border\"\r\n          style={{ borderRadius: \"100vh\" }}\r\n        >\r\n          {userInfo.username[0].toUpperCase()}\r\n        </div>\r\n        <div className=\"col\">{userInfo.username}</div>\r\n      </div>\r\n      {showCard && (\r\n        <div\r\n          ref={popupRef}\r\n          onClick={(e) => {\r\n            if (e.target === popupRef.current) setShowCard(false);\r\n          }}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            bottom: 0,\r\n            right: 0,\r\n            width: \"100vw\",\r\n            height: \"100vh\",\r\n          }}\r\n        >\r\n          <div\r\n            className=\"bg-white more-rounded shadow border p-2\"\r\n            style={{\r\n              minWidth: \"200px\",\r\n              height: \"150px\",\r\n              position: \"absolute\",\r\n              left:\r\n                iconTileRef.current.getBoundingClientRect().x - 200 < 0\r\n                  ? iconTileRef.current.getBoundingClientRect().x +\r\n                    iconTileRef.current.getBoundingClientRect().width\r\n                  : iconTileRef.current.getBoundingClientRect().x - 200,\r\n              top:\r\n                iconTileRef.current.getBoundingClientRect().y + 150 >=\r\n                window.innerHeight\r\n                  ? iconTileRef.current.getBoundingClientRect().y - 110\r\n                  : iconTileRef.current.getBoundingClientRect().y,\r\n            }}\r\n          >\r\n            <h5>{userInfo.username}</h5>\r\n            <span>Email: {userInfo.email}</span>\r\n            {userInfo._id !== userId && (\r\n              <React.Fragment>\r\n                <hr></hr>\r\n                <div>\r\n                  <button\r\n                    className=\"btn-primary btn more-rounded w-100\"\r\n                    onClick={() => {\r\n                      setExternChatId({\r\n                        contactUser: userInfo,\r\n                        messages: [],\r\n                      });\r\n                      history.push(\"/chats\");\r\n                    }}\r\n                  >\r\n                    Chat\r\n                  </button>\r\n                </div>\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UserTile;\r\n","import serverURL from \"../api/backendURL\";\r\nimport { getUserToken } from \"./common\";\r\n\r\nexport const deleteGroupTask = async ({ groupId, taskId }) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !groupId || !taskId) return;\r\n\r\n  return await fetch(`${serverURL}/api/group/${groupId}/task/${taskId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const deleteGroupMember = async ({ groupId, memberId }) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !groupId || !memberId) return;\r\n  return await fetch(`${serverURL}/api/group/${groupId}/member/${memberId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n","import backendURL from \"../api/backendURL\";\r\nimport serverURL from \"../api/backendURL\";\r\nimport { getUserToken } from \"./common\";\r\n\r\nexport const postGroupTask = async ({\r\n  groupId,\r\n  title,\r\n  deadline,\r\n  description,\r\n}) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !groupId || !title || !deadline || !description) return;\r\n\r\n  return await fetch(`${serverURL}/api/group/task`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: new URLSearchParams({\r\n      title,\r\n      deadline,\r\n      description,\r\n      groupId,\r\n    }).toString(),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const postGroupMember = async ({ groupId, memberId }) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !groupId || !memberId) return;\r\n\r\n  return await fetch(`${serverURL}/api/group/${groupId}/member/${memberId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const postMessage = async ({ receiver, type, message }) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !receiver || !type || !message) return;\r\n\r\n  return await fetch(`${serverURL}/api/chat`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: new URLSearchParams({ receiver, type, message }).toString(),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const queryChatDataContainBothUsers = async (contactUserId) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !contactUserId) return;\r\n\r\n  return await fetch(`${serverURL}/api/chat/users`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: new URLSearchParams({ contactUserId }).toString(),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const createGroup = async (groupName, groupDescription = \"\") => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !groupName) return;\r\n\r\n  return await fetch(`${serverURL}/api/group`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + userToken,\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: new URLSearchParams({ groupName, groupDescription }).toString(),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const postMarkChatAsRead = async (chatId, contactUserId) => {\r\n  const userToken = getUserToken();\r\n  if (!userToken || !contactUserId) return;\r\n\r\n  return await fetch(`${backendURL}/api/chat/read`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      Authorization: \"Bearer \" + userToken,\r\n    },\r\n    body: new URLSearchParams({\r\n      chatId,\r\n      contactUserId,\r\n    }).toString(),\r\n  }).then((res) => res.json());\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nfunction ToolBox({ unqiueId, itemList, customDisplay }) {\r\n  const [boxPosition, setBoxPosition] = useState([0, 0]);\r\n  const [displayBox, setDisplayBox] = useState(false);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"ms-auto text-muted\">\r\n        <div\r\n          onClick={(e) => {\r\n            setDisplayBox(true);\r\n            setBoxPosition([e.target.offsetLeft, e.target.offsetTop]);\r\n          }}\r\n        >\r\n          {customDisplay || <i className=\"bi bi-three-dots-vertical\"></i>}\r\n        </div>\r\n      </div>\r\n\r\n      {displayBox && (\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100vw\",\r\n            height: \"100vh\",\r\n          }}\r\n          onClick={(e) =>\r\n            e.target.parentNode.id !== \"taskBox\" && setDisplayBox(false)\r\n          }\r\n        >\r\n          <ul\r\n            id={unqiueId}\r\n            className=\"list-group bg-white shadow-sm\"\r\n            style={{\r\n              minWidth: \"150px\",\r\n              position: \"absolute\",\r\n              top: boxPosition[1],\r\n              right: `calc( 100vw - ${boxPosition[0]}px )`,\r\n            }}\r\n          >\r\n            {itemList.map((item) => (\r\n              <li\r\n                key={item.name}\r\n                className=\"list-group-item pt-cursor\"\r\n                onClick={item.action}\r\n              >\r\n                {item.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default ToolBox;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { deleteGroupMember } from \"../../api/delete\";\r\nimport { postGroupMember } from \"../../api/post\";\r\nimport { requestAllUserBasicInfo } from \"../../api/request\";\r\nimport ToolBox from \"../Common/ToolBox\";\r\nimport { GroupUpdateContext } from \"../Loading/GroupLoading\";\r\n\r\nfunction MemberBox({ memberList }) {\r\n  const [selectedComponent, setSelectedComponent] = useState(\"\");\r\n\r\n  const itemList = [\r\n    {\r\n      name: \"Add Member\",\r\n      action: () =>\r\n        setSelectedComponent(<AddUserForm memberList={memberList} />),\r\n    },\r\n    {\r\n      name: \"Remove Member\",\r\n      action: () =>\r\n        setSelectedComponent(<RemoveMemberForm memberList={memberList} />),\r\n    },\r\n  ];\r\n  return (\r\n    <React.Fragment>\r\n      <ToolBox unqiueId=\"meber-box\" itemList={itemList} />\r\n      {selectedComponent ? (\r\n        <div className=\"custom-modal m-auto\">\r\n          <div\r\n            className=\"d-flex flex-column bg-white border shadow-sm more-rounded\"\r\n            style={{ minWidth: \"50vw\" }}\r\n          >\r\n            <button\r\n              className=\"btn m-0 p-0 d-flex flex-row-reverse fs-2 pe-2\"\r\n              onClick={() => setSelectedComponent(\"\")}\r\n            >\r\n              <i className=\"bi bi-x\"></i>\r\n            </button>\r\n            {selectedComponent}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction RemoveMemberForm({ memberList: _memberList }) {\r\n  let { groupId } = useParams();\r\n  let { getGroupMemberList } = useContext(GroupUpdateContext);\r\n  const [memberList, setMemberList] = useState(_memberList);\r\n\r\n  const [submitResponse, setSubmitResponse] = useState(\"\");\r\n\r\n  const [showConfirmBox, setShowConfirmBox] = useState(false);\r\n  const [selectedMemberId, setSelectedMemberId] = useState(\"\");\r\n\r\n  const removeMember = async () => {\r\n    deleteGroupMember({ groupId, memberId: selectedMemberId }).then((res) => {\r\n      if (res.success) {\r\n        setSubmitResponse(<div className=\"alert alert-success\">Success!</div>);\r\n        getGroupMemberList();\r\n      } else {\r\n        setSubmitResponse(\r\n          <div className=\"alert alert-danger\">\r\n            Something wrong with the connection. Please try to submit again.\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(_memberList);\r\n    setMemberList(_memberList);\r\n  }, [_memberList]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showConfirmBox && (\r\n        <div className=\"d-flex flex-column custom-modal\">\r\n          <h3>Are you sure to delete this user?</h3>\r\n          <div className=\"row mt-3\">\r\n            <button\r\n              style={{ width: \"20vw\" }}\r\n              className=\"col-md btn btn-danger\"\r\n              onClick={() => {\r\n                removeMember();\r\n                setShowConfirmBox(false);\r\n              }}\r\n            >\r\n              Yes\r\n            </button>\r\n            <button\r\n              style={{ width: \"20vw\" }}\r\n              className=\"col-md btn btn-primary ms-2\"\r\n              onClick={() => setShowConfirmBox(false)}\r\n            >\r\n              No\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"px-5\">\r\n        <h1>Delete User</h1>\r\n        {submitResponse}\r\n        <div className=\"\" style={{ height: \"60vh\", msOverflowY: \"auto\" }}>\r\n          {memberList.map((member, index) => (\r\n            <div key={member._id} className=\"row p-0 m-0 py-1\">\r\n              <div className=\"col-md p-0 m-0\">\r\n                #{index + 1} {member.username}\r\n              </div>\r\n              <button\r\n                className=\"btn btn-danger col-md-2\"\r\n                onClick={() => {\r\n                  setSelectedMemberId(member._id);\r\n                  setShowConfirmBox(true);\r\n                }}\r\n              >\r\n                Remove\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction AddUserForm({ memberList }) {\r\n  let { groupId } = useParams();\r\n  let { getGroupMemberList } = useContext(GroupUpdateContext);\r\n  const [userSuggestList, setUserSuggestList] = useState([]);\r\n\r\n  const [submitResponse, setSubmitResponse] = useState(\"\");\r\n  const [userSuggestFilterList, setUserSuggestFilterList] = useState([]);\r\n  const [filterInput, setFilterInput] = useState(\"\");\r\n\r\n  const addMember = async (e, memberId) => {\r\n    e.target.innerText = \"Processing\";\r\n    postGroupMember({ groupId, memberId }).then((res) => {\r\n      if (res.success) {\r\n        getGroupMemberList();\r\n        e.target.innerText = \"âœ”\";\r\n        e.target.className = e.target.className.replace(\r\n          \"btn-primary\",\r\n          \"btn-success\"\r\n        );\r\n        e.target.disabled = true;\r\n      } else {\r\n        e.target.innerText = \"Add\";\r\n      }\r\n    });\r\n  };\r\n\r\n  const getUserSuggestion = async () => {\r\n    requestAllUserBasicInfo().then((res) => {\r\n      let userHash = {};\r\n      for (let user of memberList) {\r\n        userHash[user._id] = 1;\r\n      }\r\n      let list = res.filter((user) => !userHash[user._id]);\r\n      setUserSuggestList(list);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (memberList) getUserSuggestion();\r\n  }, [memberList]);\r\n\r\n  useEffect(() => {\r\n    setUserSuggestFilterList(userSuggestList);\r\n  }, [userSuggestList]);\r\n\r\n  useEffect(() => {\r\n    let newList = userSuggestList?.filter((user) =>\r\n      user.email.match(new RegExp(`${filterInput}`, \"gmi\"))\r\n    );\r\n    setUserSuggestFilterList(newList);\r\n  }, [filterInput]);\r\n\r\n  return (\r\n    <div className=\"p-5\" style={{ width: \"50vw\", height: \"80vh\" }}>\r\n      <h1>Add Member</h1>\r\n      <input\r\n        className=\"form-control\"\r\n        value={filterInput}\r\n        placeholder=\"Type the user's email to search...\"\r\n        onChange={(e) => setFilterInput(e.target.value)}\r\n      ></input>\r\n      <div className=\"\">\r\n        <div className=\"row p-1\">\r\n          <div className=\"col-md\">Username</div>\r\n          <div className=\"col-md\">Email address</div>\r\n          <div className=\"col-md-2\"></div>\r\n        </div>\r\n        <div\r\n          className=\"m-0 p-0\"\r\n          style={{ height: \"50vh\", overflowX: \"hidden\", overflowY: \"auto\" }}\r\n        >\r\n          {userSuggestFilterList.map((user) => (\r\n            <div\r\n              key={user._id}\r\n              className=\"row mt-1 border more-rounded\"\r\n            >\r\n              <div className=\"col-md\">{user.username}</div>\r\n              <div className=\"col-md\">{user.email}</div>\r\n              <div className=\"col-md-2\">\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={(e) => addMember(e, user._id)}\r\n                >\r\n                  Add\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {/* <div className=\"row\">\r\n        <div className=\"col-md\">Username</div>\r\n        <div className=\"col-md\">Email address</div>\r\n        <div className=\"col-md-2\"></div>\r\n      </div> */}\r\n      {/* <div className=\"m-0 p-0\" style={{ height: \"50vh\", overflowY: \"auto\" }}>\r\n        {userSuggestFilterList.map((user) => (\r\n          <div key={user._id} className=\"row m-0 p-0 mt-4 border more-rounded\" style={{height: \"\"}}>\r\n            <div className=\"col-md p-0 m-0\">{user.username}</div>\r\n            <div className=\"col-md p-0 m-0\">{user.email}</div>\r\n            <div className=\"col-md-2 p-0 m-0\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={(e) => addMember(e, user._id)}\r\n              >\r\n                Add\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MemberBox;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { deleteGroupTask } from \"../../api/delete\";\r\nimport { postGroupTask } from \"../../api/post\";\r\nimport ToolBox from \"../Common/ToolBox\";\r\nimport { GroupUpdateContext } from \"../Loading/GroupLoading\";\r\n\r\nfunction TaskBox({ groupTasks }) {\r\n  const [selectedComponent, setSelectedComponent] = useState(\"\");\r\n  const itemList = [\r\n    {\r\n      name: \"Add Task\",\r\n      action: () => setSelectedComponent(<AddTaskForm />),\r\n    },\r\n    {\r\n      name: \"Remove Task\",\r\n      action: () =>\r\n        setSelectedComponent(<RemoveTaskForm groupTasks={groupTasks} />),\r\n    },\r\n  ];\r\n  return (\r\n    <React.Fragment>\r\n      <ToolBox unqiueId=\"task_box\" itemList={itemList} />\r\n      {selectedComponent ? (\r\n        <div className=\"custom-modal m-auto\">\r\n          <div\r\n            className=\"d-flex flex-column bg-white border shadow-sm more-rounded\"\r\n            style={{ minWidth: \"50vw\" }}\r\n          >\r\n            <button\r\n              className=\"btn m-0 p-0 d-flex flex-row-reverse fs-2 pe-2\"\r\n              onClick={() => setSelectedComponent(\"\")}\r\n            >\r\n              <i className=\"bi bi-x\"></i>\r\n            </button>\r\n            {selectedComponent}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction RemoveTaskForm({ groupTasks }) {\r\n  let { groupId } = useParams();\r\n  let { getGroupDetail } = useContext(GroupUpdateContext);\r\n\r\n  const [submitResponse, setSubmitResponse] = useState(\"\");\r\n\r\n  const [showConfirmBox, setShowConfirmBox] = useState(false);\r\n  const [selectedTaskId, setSelectedTaskId] = useState(\"\");\r\n\r\n  const removeTask = async () => {\r\n    deleteGroupTask({ groupId, taskId: selectedTaskId }).then((res) => {\r\n      if (res.success) {\r\n        setSubmitResponse(<div className=\"alert alert-success\">Success!</div>);\r\n        getGroupDetail();\r\n      } else {\r\n        setSubmitResponse(\r\n          <div className=\"alert alert-danger\">\r\n            Something wrong with the connection. Please try to submit again.\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showConfirmBox && (\r\n        <div className=\"d-flex flex-column custom-modal\">\r\n          <h3>Are you sure to delete this item?</h3>\r\n          <div className=\"row mt-3\">\r\n            <button\r\n              style={{ width: \"20vw\" }}\r\n              className=\"col-md btn btn-danger\"\r\n              onClick={() => {\r\n                removeTask();\r\n                setShowConfirmBox(false);\r\n              }}\r\n            >\r\n              Yes\r\n            </button>\r\n            <button\r\n              style={{ width: \"20vw\" }}\r\n              className=\"col-md btn btn-primary ms-2\"\r\n              onClick={() => setShowConfirmBox(false)}\r\n            >\r\n              No\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"px-5\">\r\n        <h1>Delete Task</h1>\r\n        {submitResponse}\r\n        <div className=\"\" style={{ height: \"60vh\", msOverflowY: \"auto\" }}>\r\n          {groupTasks.map((task, index) => (\r\n            <div key={task._id} className=\"row p-0 m-0 py-1\">\r\n              <div className=\"col-md p-0 m-0\">\r\n                #{index + 1} {task.title}\r\n              </div>\r\n              <button\r\n                className=\"btn btn-danger col-md-2\"\r\n                onClick={() => {\r\n                  setSelectedTaskId(task._id);\r\n                  setShowConfirmBox(true);\r\n                }}\r\n              >\r\n                Remove\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction AddTaskForm() {\r\n  let { groupId } = useParams();\r\n  let { getGroupDetail } = useContext(GroupUpdateContext);\r\n\r\n  const [titleInput, setTitleInput] = useState(\"\");\r\n  const [deadlineInput, setDeadlineInput] = useState(\"\");\r\n  const [descriptionInput, setDescriptionInput] = useState(\"\");\r\n\r\n  const [submitResponse, setSubmitResponse] = useState(\"\");\r\n\r\n  const submitTask = async () => {\r\n    postGroupTask({\r\n      groupId,\r\n      title: titleInput,\r\n      deadline: deadlineInput,\r\n      description: descriptionInput,\r\n    }).then((res) => {\r\n      if (res.success) {\r\n        setSubmitResponse(<div className=\"alert alert-success\">Success!</div>);\r\n        getGroupDetail();\r\n      } else {\r\n        setSubmitResponse(\r\n          <div className=\"alert alert-danger\">\r\n            Something wrong with the connection. Please try to submit again.\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={(e) => e.preventDefault()}>\r\n      <div className=\"px-5 pb-5\">\r\n        <h1>Create A Task</h1>\r\n        <p>Please fill in all the information in order to create a new task.</p>\r\n        {submitResponse}\r\n        <label className=\"form-label mt-2\">Title</label>\r\n        <input\r\n          className=\"form-control\"\r\n          type=\"text\"\r\n          value={titleInput}\r\n          onChange={(e) => setTitleInput(e.target.value)}\r\n        ></input>\r\n        <label className=\"form-label mt-2\">Deadline</label>\r\n        <input\r\n          type=\"date\"\r\n          className=\"form-control\"\r\n          value={deadlineInput}\r\n          onChange={(e) => setDeadlineInput(e.target.value)}\r\n        ></input>\r\n        <label className=\"form-label mt-2\">Description</label>\r\n        <textarea\r\n          className=\"form-control\"\r\n          value={descriptionInput}\r\n          onChange={(e) => setDescriptionInput(e.target.value)}\r\n        ></textarea>\r\n        <div className=\"d-flex flex-row-reverse mt-3\">\r\n          <button className=\"btn btn-primary ms-2\" onClick={() => submitTask()}>\r\n            Add Task\r\n          </button>\r\n          <button\r\n            className=\"btn btn-outline-primary ms-2\"\r\n            type=\"reset\"\r\n            onClick={() => {\r\n              setDeadlineInput(\"\");\r\n              setTitleInput(\"\");\r\n              setDescriptionInput(\"\");\r\n            }}\r\n          >\r\n            Reset\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default TaskBox;\r\n","import React from \"react\";\r\nimport { beDate } from \"../../utilities/betterDate\";\r\nimport UserTile from \"../Common/UserTile\";\r\nimport MemberBox from \"./MemberBox\";\r\nimport TaskBox from \"./TaskBox\";\r\n\r\nfunction GroupDetail({ groupInfo, groupMemberList }) {\r\n  return (\r\n    <div className=\"text-grey p-3\">\r\n      <div className=\"border-bottom pb-3\">\r\n        <h1 className=\"text-dark\">{groupInfo?.groupName}</h1>\r\n        <div>Created at: {beDate(groupInfo?.createdAt)}</div>\r\n      </div>\r\n\r\n      <div className=\"row mt-3\" style={{ height: \"25vh\" }}>\r\n        <div className=\"col-md\">\r\n          <div className=\"d-flex flex-row\">\r\n            <h5>Announcements</h5>\r\n            <div className=\"ms-auto text-muted\">\r\n              <i className=\"bi bi-three-dots-vertical\"></i>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <em>There is no announcement so far.</em>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-4\">\r\n          <div className=\"d-flex flex-row\">\r\n            <h5>Members ({groupMemberList.length})</h5>\r\n            <MemberBox memberList={groupMemberList} />\r\n          </div>\r\n\r\n          <div\r\n            className=\"w-100\"\r\n            style={{ height: \"21vh\", overflowY: \"auto\", overflowX: \"hidden\" }}\r\n          >\r\n            <table className=\"blue-trans-bg more-rounded w-100\">\r\n              <tbody>\r\n                {groupMemberList.map((member) => (\r\n                  <tr key={member._id} className=\"blue-text fw-bold\">\r\n                    <td className=\"p-2\">\r\n                      <div\r\n                        style={{\r\n                          width: \"18vw\",\r\n                          whiteSpace: \"nowrap\",\r\n                          overflow: \"hidden\",\r\n                          textOverflow: \"ellipsis\",\r\n                        }}\r\n                      >\r\n                        <UserTile userInfo={member}/>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-3\">\r\n        <div className=\"d-flex flex-row mb-2\">\r\n          <h5>Tasks ({groupInfo?.groupTasks.length})</h5>\r\n          <TaskBox groupTasks={groupInfo?.groupTasks} />\r\n        </div>\r\n\r\n        <table className=\"w-100\">\r\n          <thead className=\"border-bottom shadow-sm blue-trans-bg\">\r\n            <tr style={{ display: \"block\" }}>\r\n              <td className=\"p-2 blue-text fw-bold\" style={{ width: \"20vw\" }}>Deadline</td>\r\n              <td className=\"p-2 blue-text fw-bold\" style={{ width: \"40vw\" }}>Title</td>\r\n              <td className=\"p-2 blue-text fw-bold\" style={{ width: \"20vw\" }}>Created By</td>\r\n            </tr>\r\n          </thead>\r\n          <tbody\r\n            className=\"blue-trans-bg\"\r\n            style={{\r\n              display: \"block\",\r\n              overflow: \"auto\",\r\n              width: \"100%\",\r\n              height: \"30vh\",\r\n            }}\r\n          >\r\n            {groupInfo?.groupTasks.map((task) => (\r\n              <tr key={task._id} className=\"border-bottom\">\r\n                <td className=\"blue-text p-2\" style={{ width: \"20vw\" }}>{beDate(task.deadline)}</td>\r\n                <td className=\"blue-text ps-3 p-2\" style={{ width: \"40vw\" }}>\r\n                  {task.title}\r\n                </td>\r\n                <td\r\n                  className=\"blue-text ps-1 p-2\"\r\n                  style={{ width: \"20vw\", overflow: \"hidden\" }}\r\n                >\r\n                  <UserTile userInfo={task.createdBy}/>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupDetail;\r\n","import React, { useEffect } from \"react\";\r\n\r\nfunction LoadingIcon() {\r\n  useEffect(() => {\r\n    let circles = document.getElementById(\"loading-ani\").children;\r\n\r\n    for (let i = 0; i < circles.length; i++) {\r\n      let circle = circles[i];\r\n      circle.style.animationName = \"gradient-color\";\r\n      circle.style.animationDuration = \"1s\";\r\n      circle.style.animationDelay = (1 / circles.length) * i + \"s\";\r\n      circle.style.animationIterationCount = \"infinite\";\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column justify-content-center h-100 w-100\">\r\n      <div>\r\n        <div id=\"loading-ani\" className=\"loading-container\">\r\n          <div className=\"loading-circle\"></div>\r\n          <div className=\"loading-circle\"></div>\r\n          <div className=\"loading-circle\"></div>\r\n          <div className=\"loading-circle\"></div>\r\n          <div className=\"loading-circle\"></div>\r\n        </div>\r\n        <div className=\"m-auto text-center mt-4\">\r\n          It takes some time to load and wake the server\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingIcon;\r\n","import React, { useState, useEffect, createContext } from \"react\";\r\nimport GroupDetail from \"../Groups/GroupDetail\";\r\n\r\nimport { useParams } from \"react-router-dom\";\r\nimport { requestGroupDetail, requestGroupMemebrs } from \"../../api/request\";\r\nimport LoadingIcon from \"./LoadingIcon\";\r\n\r\nexport const GroupUpdateContext = createContext();\r\n\r\nfunction GroupLoading({ children }) {\r\n  let { groupId } = useParams();\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const [groupInfo, setGroupInfo] = useState();\r\n  const [groupMemberList, setGroupMemberList] = useState([]);\r\n\r\n  const getGroupDetail = async () => {\r\n    return requestGroupDetail(groupId).then((res) => {\r\n      setGroupInfo(res);\r\n    });\r\n  };\r\n\r\n  const getGroupMemberList = async () => {\r\n    return requestGroupMemebrs(groupId).then((res) => {\r\n      setGroupMemberList(res);\r\n    });\r\n  };\r\n\r\n  const loadingResource = async () => {\r\n    await getGroupDetail();\r\n    await getGroupMemberList();\r\n    setIsLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadingResource();\r\n  }, [groupId]);\r\n\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        <div\r\n          className=\"d-flex flex-column justify-content-center vh-100 overflow-hidden\"\r\n          style={{\r\n            height: \"100%\"\r\n          }}\r\n        >\r\n          <LoadingIcon />\r\n        </div>\r\n      ) : (\r\n        <GroupUpdateContext.Provider\r\n          value={{ getGroupDetail, getGroupMemberList }}\r\n        >\r\n          <GroupDetail\r\n            groupInfo={groupInfo}\r\n            groupMemberList={groupMemberList}\r\n          />\r\n        </GroupUpdateContext.Provider>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupLoading;\r\n","import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport backendURL from \"../../api/backendURL\";\r\nimport {\r\n  requestUserContactList,\r\n  requestUserGroupList,\r\n} from \"../../api/request\";\r\nimport { UserIdContext } from \"../../App\";\r\nimport LoadingIcon from \"./LoadingIcon\";\r\n\r\nexport const GroupContext = createContext(\"\");\r\nexport const ChatContext = createContext(\"\");\r\nexport const TaskContext = createContext(\"\");\r\n\r\nexport const ForceReload = createContext(\"\");\r\n\r\nexport const WebSocketContext = createContext();\r\n\r\nfunction ResourcePreLoad({ children }) {\r\n  const userId = useContext(UserIdContext);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const [groupData, setGroupData] = useState();\r\n  const [chatData, setChatData] = useState();\r\n  const [taskData, setTaskData] = useState();\r\n\r\n  const ws = new WebSocket(\"ws://localhost:8000\");\r\n  ws.onopen = () => {\r\n    ws.send(JSON.stringify({ userId, action: \"REGISTER\" }));\r\n  };\r\n\r\n  ws.onmessage = (data) => {\r\n    let json_data = JSON.parse(data.data);\r\n    console.log(json_data);\r\n    unsafeMessageUpdate(json_data);\r\n  };\r\n\r\n  const unsafeMessageUpdate = ({ chatId, userId: senderId, message }) => {\r\n    if (chatData[chatId]) {\r\n      console.log(123);\r\n      let newDataList = chatData;\r\n      newDataList[chatId].messages = [\r\n        { _id: new Date().getTime(), senderId, message },\r\n        ...newDataList[chatId].messages,\r\n      ];\r\n      setChatData({ ...newDataList });\r\n    } else {\r\n      getUserContactList();\r\n    }\r\n  };\r\n\r\n  const getUserGroupList = async () => {\r\n    return requestUserGroupList().then((res) => setGroupData(res));\r\n  };\r\n\r\n  const getUserContactList = async () => {\r\n    return requestUserContactList().then((res) => {\r\n      let hashedContactData = {};\r\n      for (let contact of res) {\r\n        contact.messages = contact.messages.reverse();\r\n        // hashedContactData[contact._id] = contact;\r\n        hashedContactData[contact.contactUser._id] = contact;\r\n      }\r\n      setChatData({ ...hashedContactData });\r\n    });\r\n  };\r\n\r\n  const getData = async () => {\r\n    await getUserContactList();\r\n    await getUserGroupList();\r\n    setIsLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <ForceReload.Provider value={getData}>\r\n      <WebSocketContext.Provider value={ws}>\r\n        <GroupContext.Provider value={groupData}>\r\n          <ChatContext.Provider value={{ chatData, getUserContactList }}>\r\n            <TaskContext.Provider value={taskData}>\r\n              {isLoading ? (\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    height: \"100vh\",\r\n                    width: \"100vw\",\r\n                  }}\r\n                >\r\n                  <LoadingIcon />\r\n                </div>\r\n              ) : (\r\n                children\r\n              )}\r\n            </TaskContext.Provider>\r\n          </ChatContext.Provider>\r\n        </GroupContext.Provider>\r\n      </WebSocketContext.Provider>\r\n    </ForceReload.Provider>\r\n  );\r\n}\r\n\r\nexport default ResourcePreLoad;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { createGroup } from \"../../api/post\";\r\nimport { ForceReload } from \"../Loading/ResourcePreLoad\";\r\n\r\nfunction GroupCreateForm({ showForm }) {\r\n  const forceReload = useContext(ForceReload);\r\n\r\n  const [groupNameInput, setGroupNameInput] = useState();\r\n  const [groupDescriptionInput, setGroupDescriptionInput] = useState();\r\n\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const postCreateGroup = () => {\r\n    createGroup(groupNameInput, groupDescriptionInput)\r\n      .then((res) => {\r\n        if (res && res.success) {\r\n          forceReload();\r\n          showForm(false);\r\n        } else {\r\n          setErrorMessage(\"Failed to create the group\");\r\n        }\r\n      })\r\n      .catch((err) => setErrorMessage(\"Failed to create the group\"));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"vh-100 vw-100 d-flex justify-content-center bg-blur\"\r\n      style={{ position: \"absolute\", top: 0, left: 0 }}\r\n    >\r\n      <form\r\n        className=\"m-auto border more-rounded p-3 shadow bg-white\"\r\n        style={{ width: \"50vw\" }}\r\n        onSubmit={(e) => e.preventDefault()}\r\n      >\r\n        <h1>Group Create Form</h1>\r\n        <label>Group Name</label>\r\n        <input\r\n          className=\"form-control\"\r\n          value={groupNameInput}\r\n          onChange={(e) => setGroupNameInput(e.target.value)}\r\n        ></input>\r\n        <label>Group Description</label>\r\n        <textarea\r\n          className=\"form-control\"\r\n          value={groupDescriptionInput}\r\n          onChange={(e) => setGroupDescriptionInput(e.target.value)}\r\n        />\r\n        {errorMessage && <div className=\"alert-danger p-2 my-2 border more-rounded\">{errorMessage}</div>}\r\n        <div className=\"d-flex flex-row justify-content-end\">\r\n          <button\r\n            className=\"btn btn-primary ms-2 mt-2\"\r\n            onClick={() => postCreateGroup()}\r\n          >\r\n            Create group\r\n          </button>\r\n          <button\r\n            className=\"btn btn-primary ms-2 mt-2\"\r\n            onClick={() => showForm(false)}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupCreateForm;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, Route, useRouteMatch } from \"react-router-dom\";\r\nimport GroupLoading from \"../Loading/GroupLoading\";\r\nimport { GroupContext } from \"../Loading/ResourcePreLoad\";\r\nimport GroupCreateForm from \"./GroupCreateForm\";\r\n\r\nfunction GroupPage() {\r\n  const groupList = useContext(GroupContext);\r\n\r\n  let { url, path } = useRouteMatch();\r\n\r\n  const [filteredGroupList, setFilteredGroupList] = useState(groupList);\r\n  const [filterGroupInput, setFilterGroupInput] = useState(\"\");\r\n\r\n  const [showGroupCreateForm, setShowGroupCreateForm] = useState(false);\r\n\r\n  const filterGroupList = () => {\r\n    let newList = [];\r\n    for (let group of groupList) {\r\n      if (group.groupName.match(new RegExp(filterGroupInput, \"gmi\")))\r\n        newList.push(group);\r\n    }\r\n\r\n    setFilteredGroupList(newList);\r\n  };\r\n\r\n  useEffect(() => {\r\n    filterGroupList();\r\n  }, [filterGroupInput, groupList]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showGroupCreateForm && (\r\n        <GroupCreateForm showForm={setShowGroupCreateForm} />\r\n      )}\r\n      <div className=\"row m-0 p-0 h-100\">\r\n        <div\r\n          className=\"col-md-2 p-0 m-0 h-100 shadow-sm border-end d-flex flex-column\"\r\n          style={{ minWidth: \"195px\" }}\r\n        >\r\n          <input\r\n            className=\"form-control border-0 h-50px\"\r\n            onChange={(e) => setFilterGroupInput(e.target.value)}\r\n            placeholder=\"Search Group\"\r\n          />\r\n          <div className=\"fw-bold d-flex flex-column overflowY\">\r\n            <div className=\"my-2 p-3\">Quick Links</div>\r\n            {groupList.map((group) => (\r\n              <Link\r\n                key={group._id}\r\n                to={`${url}/${group._id}`}\r\n                className=\"px-3 py-1 border-bottom w-100 text-center bg-white\"\r\n              >\r\n                {group.groupName}\r\n              </Link>\r\n            ))}\r\n          </div>\r\n          <button\r\n            className=\"mt-auto btn btn-primary rounded-0 w-100\"\r\n            onClick={() => setShowGroupCreateForm(true)}\r\n          >\r\n            Create Group\r\n          </button>\r\n        </div>\r\n        <div className=\"col-md pt-3 bg-white px-5 shadow-left\">\r\n          <Route exact path={path}>\r\n            <h1>Groups</h1>\r\n            <div className=\"d-flex flex-wrap\">\r\n              {filteredGroupList.map((group) => (\r\n                <Link\r\n                  key={group._id}\r\n                  to={`${url}/${group._id}`}\r\n                  className=\"text-white me-3 mb-3 more-rounded\"\r\n                >\r\n                  <div\r\n                    className=\"btn d-flex flex-column blue-trans-bg blue-text fw-bold \"\r\n                    style={{ width: \"170px\" }}\r\n                  >\r\n                    {\" \"}\r\n                    <i className=\"bi bi-folder-fill fs-1\"></i>\r\n                    {group.groupName}\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </Route>\r\n          <Route path={`${path}/:groupId`}>\r\n            <GroupLoading />\r\n          </Route>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default GroupPage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { postMessage } from \"../../api/post\";\r\nimport { UserIdContext } from \"../../App\";\r\nimport { betterTime } from \"../../utilities/betterDate\";\r\nimport { ChatContext, WebSocketContext } from \"../Loading/ResourcePreLoad\";\r\n\r\nfunction ChatDisplay({ contactUserChatData, className }) {\r\n  const userId = useContext(UserIdContext);\r\n  const ws = useContext(WebSocketContext);\r\n  const { getUserContactList } = useContext(ChatContext);\r\n\r\n  const [messageInput, setMessageInput] = useState(\"\");\r\n  const [tmpMessageHolder, setTmpMessageHolder] = useState([]);\r\n\r\n  const messageStyle = {\r\n    left: { box: \"justify-content-start\", bg: \"bg-light\" },\r\n    right: { box: \"justify-content-end\", bg: \"darkblue-bg text-white\" },\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    let message = messageInput;\r\n    let receiverId = contactUserChatData.contactUser._id;\r\n    setMessageInput(\"\");\r\n    setTmpMessageHolder([...tmpMessageHolder, messageInput]);\r\n    ws.send(\r\n      JSON.stringify({\r\n        userId,\r\n        receiverId,\r\n        action: \"NEW_CHAT_MESSAGE\",\r\n        message: messageInput,\r\n        chatId: contactUserChatData._id,\r\n      })\r\n    );\r\n    postMessage({\r\n      message,\r\n      type: \"text\",\r\n      receiver: receiverId,\r\n    }).then(async (res) => {\r\n      if (res.success) {\r\n        await getUserContactList();\r\n        setTmpMessageHolder([...tmpMessageHolder].splice(0, 1));\r\n      } else {\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={`${className} overflow-hidden m-0 p-0 shadow-left`}>\r\n      <h3\r\n        className=\"border-bottom h-50px m-0 px-3\"\r\n        style={{ lineHeight: \"50px\" }}\r\n      >\r\n        {contactUserChatData.contactUser.username}\r\n      </h3>\r\n      <div\r\n        className=\"overflow-auto px-3 py-2 d-flex flex-column-reverse\"\r\n        style={{ height: \"82%\" }}\r\n      >\r\n        {tmpMessageHolder.map((msg, index) => {\r\n          return (\r\n            <div key={index}>\r\n              <div className={`d-flex ${messageStyle.right.box}`}>\r\n                <span\r\n                  className={`more-rounded mt-1 px-3 p-1 border ${messageStyle.right.bg}`}\r\n                  style={{ maxWidth: \"55%\" }}\r\n                >\r\n                  {msg}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n        {contactUserChatData.messages?.map((msg) => {\r\n          return (\r\n            <div key={msg._id}>\r\n              <div\r\n                className={`d-flex ${\r\n                  userId === msg.senderId\r\n                    ? messageStyle.right.box\r\n                    : messageStyle.left.box\r\n                }`}\r\n              >\r\n                <span\r\n                  className={`more-rounded mt-1 px-3 p-1 border ${\r\n                    userId === msg.senderId\r\n                      ? messageStyle.right.bg\r\n                      : messageStyle.left.bg\r\n                  }`}\r\n                  style={{ maxWidth: \"55%\" }}\r\n                >\r\n                  {msg.message}\r\n                </span>\r\n                <sub className=\"align-self-center mx-1 text-muted\">\r\n                  {betterTime(msg.sendAt)}\r\n                </sub>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <form\r\n        className=\"d-flex flex-row py-2 border-top px-2\"\r\n        onSubmit={(e) => e.preventDefault()}\r\n      >\r\n        <input\r\n          className=\"form-control more-rounded\"\r\n          value={messageInput}\r\n          onChange={(e) => setMessageInput(e.target.value)}\r\n        ></input>\r\n        <button\r\n          className=\"btn btn-primary more-rounded ms-1\"\r\n          type=\"submit\"\r\n          onClick={() => sendMessage()}\r\n        >\r\n          Send\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatDisplay;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { postMarkChatAsRead } from \"../../api/post\";\r\nimport { betterTime } from \"../../utilities/betterDate\";\r\nimport { ForceReload } from \"../Loading/ResourcePreLoad\";\r\n\r\nfunction ChatTile({ contact, setSelectedContactId, userId }) {\r\n  const forceReload = useContext(ForceReload)\r\n\r\n  const [showUnread, setShowUnread] = useState(true)\r\n  let lastMessage = contact.messages[0];\r\n\r\n  const markAsRead = () => {\r\n    postMarkChatAsRead(contact._id, contact.contactUser._id).then(res => {\r\n      if (res && res.success) {\r\n        forceReload()\r\n      }\r\n    }).catch(err => err)\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"border-bottom h-50px px-3 pt-cursor row\"\r\n      onClick={() => {\r\n        setSelectedContactId(contact.contactUser._id);\r\n        setShowUnread(false);\r\n        markAsRead()\r\n      }}\r\n    >\r\n      <div className=\"col\">\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col\">\r\n            <b>{contact.contactUser.username}</b>\r\n          </div>\r\n          {showUnread && contact.unread > 0 && (\r\n            <div\r\n              className=\"d-flex justify-content-center col-3 more-rounded bg-white fw-bold\"\r\n              style={{ width: \"40px\" }}\r\n            >\r\n              {contact.unread}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"row text-muted\">\r\n          <div className=\"col-md\">\r\n            {lastMessage.senderId === userId ? \"You: \" : \"\"}{\" \"}\r\n            {lastMessage.message}\r\n          </div>\r\n          <div className=\"col-md-3 fw-light mt-1\" style={{ fontSize: \"12px\" }}>\r\n            {betterTime(lastMessage.sendAt)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatTile;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { ChatContext } from \"../Loading/ResourcePreLoad\";\r\nimport ChatDisplay from \"./ChatDisplay\";\r\nimport { ChatIdContext, UserIdContext } from \"../../App\";\r\nimport { betterTime } from \"../../utilities/betterDate\";\r\nimport ChatTile from \"./ChatTile\";\r\n\r\nfunction ChatPage() {\r\n  const userId = useContext(UserIdContext);\r\n  const { externChatId, setExternChatId } = useContext(ChatIdContext);\r\n\r\n  const { chatData } = useContext(ChatContext);\r\n  const [sortedChatList, setSortedChatList] = useState([]);\r\n  const [filteredChatData, setFilteredChatData] = useState([]);\r\n  const [filterInput, setFilterInput] = useState(\"\");\r\n  const [selectedContactId, setSelectedContactId] = useState(\r\n    externChatId?.contactUser._id\r\n  );\r\n\r\n  const filterContact = () => {\r\n    let filteredList = sortedChatList.filter((chatId) =>\r\n      chatData[chatId].contactUser.username.match(\r\n        new RegExp(filterInput, \"gmi\")\r\n      )\r\n    );\r\n    setFilteredChatData([...filteredList]);\r\n  };\r\n\r\n  const makeSortedChatList = () => {\r\n    let sortedList = Object.keys(chatData);\r\n    sortedList.sort((x, y) => {\r\n      let xdate = new Date(chatData[x].messages[0].sendAt);\r\n      let ydate = new Date(chatData[y].messages[0].sendAt);\r\n      if (xdate > ydate) return -1;\r\n      else if (xdate < ydate) return 1;\r\n      return 0;\r\n    });\r\n    setSortedChatList([...sortedList]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    makeSortedChatList();\r\n  }, [chatData]);\r\n\r\n  useEffect(() => {\r\n    filterContact();\r\n  }, [sortedChatList, filterInput]);\r\n\r\n  return (\r\n    <div className=\"row p-0 m-0 h-100\">\r\n      <div\r\n        className=\"col-md-2 p-0 m-0 h-100 border-end\"\r\n        style={{ minWidth: \"195px\" }}\r\n      >\r\n        <input\r\n          className=\"form-control border-0 h-50px\"\r\n          placeholder=\"Search User\"\r\n          onChange={(e) => setFilterInput(e.target.value)}\r\n        />\r\n        <div className=\"border-top\">\r\n          {filteredChatData.map((contactId) => (\r\n            <ChatTile\r\n              key={contactId}\r\n              contact={chatData[contactId]}\r\n              setSelectedContactId={setSelectedContactId}\r\n              userId={userId}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {selectedContactId ? (\r\n        <ChatDisplay\r\n          contactUserChatData={\r\n            chatData[selectedContactId] === undefined\r\n              ? externChatId\r\n              : chatData[selectedContactId]\r\n          }\r\n          className=\"col-md h-100 bg-white shadow-left\"\r\n        />\r\n      ) : (\r\n        <div className=\"col-md h-100 bg-white shadow-left\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatPage;\r\n","import React from 'react'\r\n\r\nfunction TaskPage() {\r\n  return (\r\n    <div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TaskPage\r\n","function Logout() {\r\n  localStorage.removeItem(\"token\");\r\n  window.location.href = \"/\";\r\n}\r\n\r\nexport default Logout;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Link, useLocation, useRouteMatch } from \"react-router-dom\";\r\nimport Logout from \"../Auth/Logout\";\r\n\r\nconst pages = [\r\n  {\r\n    name: \"Groups\",\r\n    icon: <i className=\"bi bi-collection\"></i>,\r\n    link: \"/groups\",\r\n  },\r\n  {\r\n    name: \"Chats\",\r\n    icon: <i className=\"bi bi-chat-right-text\"></i>,\r\n    link: \"/chats\",\r\n  },\r\n  {\r\n    name: \"Memo\",\r\n    icon: <i className=\"bi bi-journal-bookmark-fill\"></i>,\r\n    link: \"/memo\",\r\n  },\r\n];\r\n\r\nfunction NavigationBar({ className = \"\", style = \"\" }) {\r\n  const [selectedPageLink, setSelectedPageLink] = useState(\"\");\r\n  let location = useLocation();\r\n  return (\r\n    <div\r\n      className={`${className} vh-100 d-flex flex-column justify-content-center  border-end px-2`}\r\n      style={{ ...style }}\r\n    >\r\n      {pages.map((page) => (\r\n        <Link\r\n          to={page.link}\r\n          key={page.link}\r\n          onClick={() => setSelectedPageLink(page.link)}\r\n          className={`fs-5 d-flex flex-column justify-content-center my-1 p-1 ${\r\n            page.link === \"/\" + location.pathname.split(\"/\")[1]\r\n              ? \"selected-tag\"\r\n              : \"text-muted\"\r\n          }`}\r\n        >\r\n          <div className=\"m-auto text-center fs-4\">\r\n            <div>{page.icon}</div>\r\n            <div className=\"fs-6\">{page.name}</div>\r\n          </div>\r\n        </Link>\r\n      ))}\r\n      <div className=\"pt-cursor text-center fs-4 mt-auto mb-3\" onClick={() => Logout()}>\r\n        <div><i className=\"bi bi-box-arrow-right\"></i></div>\r\n        <div className=\"fs-6\">Logout</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavigationBar;\r\n","import React from 'react'\r\n\r\nfunction MemoPage() {\r\n  return (\r\n    <div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MemoPage\r\n","import React, { useState, createContext } from \"react\";\r\nimport Login from \"./components/Auth/Login\";\r\n\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport PrivateRoute from \"./components/Auth/PrivateRoute\";\r\nimport GroupPage from \"./components/Groups/GroupPage\";\r\nimport ChatPage from \"./components/Chat/ChatPage\";\r\nimport TaskPage from \"./components/Tasks/TaskPage\";\r\nimport ResourcePreLoad from \"./components/Loading/ResourcePreLoad\";\r\nimport NavigationBar from \"./components/NavigationBar/NavigationBar\";\r\nimport MemoPage from \"./components/Memo/MemoPage\";\r\n\r\nexport const UserIdContext = createContext(\"\");\r\nexport const ChatIdContext = createContext(\"\");\r\n\r\nfunction App() {\r\n  const [userId, setUserId] = useState(\"\" || localStorage.getItem(\"userId\"));\r\n  const [userToken, setUserToken] = useState(\r\n    \"\" || localStorage.getItem(\"token\")\r\n  );\r\n\r\n  const [externChatId, setExternChatId] = useState(null)\r\n  \r\n  return (\r\n    <UserIdContext.Provider value={userId}>\r\n      <div className=\"fluid-container\">\r\n        <Router>\r\n          <Switch>\r\n            <Route path=\"/login\">\r\n              <Login setUserToken={setUserToken} setUserId={setUserId} />\r\n            </Route>\r\n            <PrivateRoute userToken={userToken}>\r\n              <ResourcePreLoad>\r\n                <ChatIdContext.Provider value={{externChatId, setExternChatId}}>\r\n                <div className=\"row p-0 m-0 vh-100\">\r\n                  <NavigationBar\r\n                    className=\"col-md-1 h-100 m-0 p-0 bg-white shadow\"\r\n                    style={{ width: \"100px\", zIndex: 999 }}\r\n                  />\r\n                  <div className=\"col h-100 m-0 p-0 app-bg\">\r\n                    <Route path=\"/groups\">\r\n                      <GroupPage />\r\n                    </Route>\r\n                    <Route path=\"/chats\">\r\n                      <ChatPage />\r\n                    </Route>\r\n                    <Route path=\"/tasks\">\r\n                      <TaskPage />\r\n                    </Route>\r\n                    <Route path=\"/memo\">\r\n                      <MemoPage />\r\n                    </Route>\r\n                  </div>\r\n                </div>\r\n                </ChatIdContext.Provider>\r\n              </ResourcePreLoad>\r\n            </PrivateRoute>\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    </UserIdContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = \"https://teams-collab-backend.herokuapp.com\"\r\n// module.exports = \"http://localhost:8080\"\r\n// module.exports = \"http://localhost:5000\""],"sourceRoot":""}